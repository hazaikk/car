{% extends "base.html" %}

{% block content %}
<div class="container-fluid mt-4">
    <div class="row">
        <!-- 侧边栏 -->
        <div class="col-md-2">
            <div class="list-group">
                <a href="{% url 'visualization:chart_list' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'chart_list' %}active{% endif %}">
                    <i class="fas fa-chart-bar me-2"></i>所有图表
                </a>
                {% if user.is_authenticated %}
                <a href="{% url 'visualization:my_charts' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'my_charts' %}active{% endif %}">
                    <i class="fas fa-user-chart me-2"></i>我的图表
                </a>
                <a href="{% url 'visualization:chart_create' %}" class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'chart_create' %}active{% endif %}">
                    <i class="fas fa-plus-circle me-2"></i>创建图表
                </a>
                {% endif %}

            </div>
        </div>
        
        <!-- 主要内容区域 -->
        <div class="col-md-10">
            {% block visualization_content %}{% endblock %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.css" rel="stylesheet">
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
{% endblock %}